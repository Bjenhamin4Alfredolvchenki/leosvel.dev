---
import BlogPostPreview from './BlogPostPreview.astro';

export interface Props {
  description: string;
  posts: any[];
  title: string;
}

const { description, posts, title } = Astro.props;
---

<div
  class="max-w-full sm:max-w-2xl md:max-w-3xl lg:max-w-6xl mx-auto  p-4 sm:p-12 w-full flex flex-col text-cyan-900 transition-all"
>
  <section class="mb-8 pb-1 border-b-2 border-cyan-700/50">
    <h1 class="mb-4 text-3xl">{title}</h1>
    <p class="text-lg italic">{description}</p>
  </section>

  <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
    {posts.map((post) => {
      const link = `/blog/${post.file.pathname
        .split('/')
        .pop()
        .split('.')
        .shift()}`;

      return (
        <BlogPostPreview
          post={{
            title: post.title,
            description: post.description,
            date: post.date,
            link,
            thumbnailImage: post.thumbnailImage,
            thumbnailImageAlt: post.thumbnailImageAlt,
          }}
        />
      );
    })}
  </section>
</div>
